<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Assessment of concentrations of hazardous substances and their
  biological effects in the marine environment. The code supports periodic
  international assessments by OSPAR, HELCOM and AMAP and also assessments
  by individual users. Includes tools for pre-processing data, statistical
  trend analysis and comparison with threshold values, and post-processing
  for archiving and reporting.">
<title>Harmonized Regional Seas Assessment Tool • harsat</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Harmonized Regional Seas Assessment Tool">
<meta property="og:description" content="Assessment of concentrations of hazardous substances and their
  biological effects in the marine environment. The code supports periodic
  international assessments by OSPAR, HELCOM and AMAP and also assessments
  by individual users. Includes tools for pre-processing data, statistical
  trend analysis and comparison with threshold values, and post-processing
  for archiving and reporting.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">harsat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0.1000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/harsat.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Data file management</h6>
    <a class="dropdown-item" href="articles/file-management.html">File locations</a>
    <a class="dropdown-item" href="articles/external-file-format.html">External file format</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Examples</h6>
    <a class="dropdown-item" href="articles/example_external_data.html">External data</a>
    <a class="dropdown-item" href="articles/example_simple_OSPAR.html">Simple OSPAR</a>
    <a class="dropdown-item" href="articles/example_HELCOM.html">HELCOM</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/osparcomm/HARSAT/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="harsat">harsat<a class="anchor" aria-label="anchor" href="#harsat"></a>
</h1></div>
<!-- badges: start -->

<p>Requirements:</p>
<ul>
<li>R programming language version 4.2.1</li>
<li>RStudio Integrated Development Environment version 2022.07.1 Build 554</li>
</ul>
<p>Additional R packages to those which come with the standard RStudio installation. They have to be installed, either using the RStudio GUI or by the command install.packages e.g. <code>install.packages("lme4")</code>:</p>
<ul>
<li>tidyverse version 2.0.0</li>
<li>dplyr</li>
<li>lubridate</li>
<li>readr</li>
<li>stringr</li>
<li>tibble</li>
<li>tidyr</li>
<li>sf</li>
<li>lme4</li>
<li>mgcv</li>
<li>mvtnorm</li>
<li>numDeriv</li>
<li>optimx</li>
<li>pbapply</li>
<li>parallel</li>
<li>flexsurv</li>
</ul>
<p>The following R packages need to be installed to run the HELCOM example:</p>
<ul>
<li>rmarkdown</li>
<li>htmlwidgets</li>
</ul>
<p>File -&gt; New Project in RStudio to create a new project. File -&gt; New Project -&gt; Version Control -&gt; GIT -&gt; <a href="https://github.com/osparcomm/HARSAT" class="external-link uri">https://github.com/osparcomm/HARSAT</a> to clone from repository.</p>
<p>All example datasets can be run with the same basic directory structure. The following directories should be manually created:</p>
<ul>
<li>data</li>
<li>R</li>
<li>information</li>
<li>output</li>
</ul>
<p>The example scripts currently use subfolders within the data and output folders</p>
<ul>
<li>data
<ul>
<li>example_external_data</li>
<li>example_HELCOM</li>
<li>example_simple_OSPAR</li>
</ul>
</li>
<li>output
<ul>
<li>example_external_data</li>
<li>example_HELCOM</li>
<li>example_simple_OSPAR</li>
</ul>
</li>
</ul>
<p>but the data and the output can go anywhere.</p>
<p>Running the code will create a directory called <code>oddities</code> where data that might not comply with reporting requirements are posted (with warnings or errors).</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of harsat from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"osparcomm/HARSAT"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/osparcomm/HARSAT" class="external-link">harsat</a></span><span class="op">)</span></span>
<span><span class="co">## basic example code</span></span></code></pre></div>
<p>The following figures are a bit out of date:</p>
<p><img src="reference/figures/fig1.jpg" title="Required Project File Structure for OSPAR dataset." alt="Alt text"><br> Figure 1. Required Project File Structure for OSPAR dataset.</p>
<p><img src="reference/figures/fig2.jpg" title="Required Project File Structure for HELCOM dataset." alt="Alt text"><br> Figure 2. Required Project File Structure for HELCOM dataset.</p>
<p>All R functions from the GitHub code repository should be moved to R, and csv files with the reference tables should go to ‘information’. It is recommended that the R files with examples, and the data and output directories should be in the same (project) directory e.g. HARSAT HARSAT HARSAT2022.r although one can adjust that with the path argument to ctsm_read_data and ctsm.summary.table. The ‘functions’ and ‘information’ directories can be anywhere (although it is recommended that they got to the same directory), with the function_path variable (at the top of OSPAR 2022.r) pointing to the former. Data required for OSPAR:</p>
<p><img src="reference/figures/fig3.jpg" title="OSPAR data." alt="Alt text"><br> Figure 3. OSPAR data.</p>
<p>Data required for HELCOM:</p>
<p><img src="reference/figures/fig4.jpg" title="HELCOM data." alt="Alt text"><br> Figure 4. HELCOM data.</p>
<p>HELCOM dataset requires additional R files to work, and different reference tables for ‘assessment criteria biota.csv’ and ‘assessment criteria sediment.csv’. HELCOM also requires different information functions from the repository with a different version that has HELCOM specific functions (‘information functions v2_68.r’).</p>
<p><img src="reference/figures/fig5.jpg" title="Additional R files required for HELCOM dataset." alt="Alt text"><br> Figure 5. Additional R files required for HELCOM dataset.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/osparcomm/HARSAT/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/osparcomm/HARSAT/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing harsat</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rob Fryer <br><small class="roles"> Author </small>  </li>
<li>Leszek Kaliciak <br><small class="roles"> Author </small>  </li>
<li>Scottish Government <br><small class="roles"> Funder, author </small>  </li>
<li>AmbieSense Ltd <br><small class="roles"> Copyright holder, maintainer, author </small>  </li>
<li>Helsinki Commission (HELCOM) <br><small class="roles"> Copyright holder, funder, contributor </small>  </li>
<li>Arctic Monitoring and Assessment Programme (AMAP) <br><small class="roles"> Copyright holder, funder, contributor </small>  </li>
<li>OSPAR Commission (OSPAR) <br><small class="roles"> Copyright holder, funder, contributor </small>  </li>
<li>International Council for the Exploration of the Sea (ICES) <br><small class="roles"> Copyright holder, author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Rob Fryer, Leszek Kaliciak, Scottish Government, AmbieSense Ltd, Helsinki Commission (HELCOM), Arctic Monitoring and Assessment Programme (AMAP), OSPAR Commission (OSPAR), International Council for the Exploration of the Sea (ICES).</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
